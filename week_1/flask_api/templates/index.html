{%extends "base.html"%}

{%block head%}
    <title>Home Page</title>
{%endblock%}

{%block body%}
<main class="container flex flex-col justify-center items-center mx-auto p-4">
    <h1 class="text-3xl font-bold underline">Todo List</h1>

    <section class="mt-4">
        <table class="table-auto">
            <thead>
                <tr>
                    <th class="border px-4 py-2">ID</th>
                    <th class="border px-4 py-2">Content</th>
                    <th class="border px-4 py-2">Date</th>
                    <th class="border px-4 py-2">Action</th>

                </tr>
            </thead>
            <tbody>
                {% for task in tasks %}
                <tr>
                    <td class="border px-4 py-2">{{ task.id }}</td>
                    <td class="border px-4 py-2">{{ task.content }}</td>
                    <td class="border  px-4 py-2">{{ task.date_created.date() }}</td>
                    <td class="border  px-4 py-2">
                        <a href="{{ url_for('update', id=task.id) }}" 
                           class="bg-blue-500 text-white px-2 py-1 rounded text-sm inline-block mr-2">
                            Edit
                        </a>
                        <button onclick="deleteTask({{ task.id }})" 
                                class="bg-red-500 text-white px-2 py-1 rounded text-sm">
                            Delete
                        </button>
                    </td>
                </tr>
                
                {% endfor %}
            </tbody>
        </table>
    </section>
    <section class="mt-4">
        <form action="/" method="POST" class="flex space-x-2">
            <input type="text" name="content" placeholder="New Todo" class="border p-2 rounded" required>
            <button type="submit" class="bg-blue-500 text-white p-2 rounded">Add</button>
        </form>
    </section>
</main>

{%endblock%}